var baseSortByOrder = require('../internal/baseSortByOrder'),
    isArray = require('../lang/isArray'),
    isIterateeCall = require('../internal/isIterateeCall');

/**
 * This method is like `_.sortByAll` except that it allows specifying the
<<<<<<< HEAD
 * sort orders of the iteratees to sort by. A truthy value in `orders` will
 * sort the corresponding property name in ascending order while a falsey
 * value will sort it in descending order.
 *
 * If a property name is provided for an iteratee the created `_.property`
 * style callback returns the property value of the given element.
 *
 * If an object is provided for an iteratee the created `_.matches` style
 * callback returns `true` for elements that have the properties of the given
 * object, else `false`.
=======
 * sort orders of the property names to sort by. A truthy value in `orders`
 * will sort the corresponding property name in ascending order while a
 * falsey value will sort it in descending order.
>>>>>>> f8417fafd5bf20d329bf2e3402fca16fd839cf1f
 *
 * @static
 * @memberOf _
 * @category Collection
 * @param {Array|Object|string} collection The collection to iterate over.
<<<<<<< HEAD
 * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.
 * @param {boolean[]} orders The sort orders of `iteratees`.
=======
 * @param {string[]} props The property names to sort by.
 * @param {boolean[]} orders The sort orders of `props`.
>>>>>>> f8417fafd5bf20d329bf2e3402fca16fd839cf1f
 * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.
 * @returns {Array} Returns the new sorted array.
 * @example
 *
 * var users = [
<<<<<<< HEAD
 *   { 'user': 'fred',   'age': 48 },
 *   { 'user': 'barney', 'age': 34 },
 *   { 'user': 'fred',   'age': 42 },
 *   { 'user': 'barney', 'age': 36 }
=======
 *   { 'user': 'barney', 'age': 26 },
 *   { 'user': 'fred',   'age': 40 },
 *   { 'user': 'barney', 'age': 36 },
 *   { 'user': 'fred',   'age': 30 }
>>>>>>> f8417fafd5bf20d329bf2e3402fca16fd839cf1f
 * ];
 *
 * // sort by `user` in ascending order and by `age` in descending order
 * _.map(_.sortByOrder(users, ['user', 'age'], [true, false]), _.values);
<<<<<<< HEAD
 * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]
 */
function sortByOrder(collection, iteratees, orders, guard) {
  if (collection == null) {
    return [];
  }
  if (guard && isIterateeCall(iteratees, orders, guard)) {
    orders = null;
  }
  if (!isArray(iteratees)) {
    iteratees = iteratees == null ? [] : [iteratees];
=======
 * // => [['barney', 36], ['barney', 26], ['fred', 40], ['fred', 30]]
 */
function sortByOrder(collection, props, orders, guard) {
  if (collection == null) {
    return [];
  }
  if (guard && isIterateeCall(props, orders, guard)) {
    orders = null;
  }
  if (!isArray(props)) {
    props = props == null ? [] : [props];
>>>>>>> f8417fafd5bf20d329bf2e3402fca16fd839cf1f
  }
  if (!isArray(orders)) {
    orders = orders == null ? [] : [orders];
  }
<<<<<<< HEAD
  return baseSortByOrder(collection, iteratees, orders);
=======
  return baseSortByOrder(collection, props, orders);
>>>>>>> f8417fafd5bf20d329bf2e3402fca16fd839cf1f
}

module.exports = sortByOrder;
