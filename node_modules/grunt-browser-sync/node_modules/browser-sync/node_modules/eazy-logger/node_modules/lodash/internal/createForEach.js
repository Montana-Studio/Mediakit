var bindCallback = require('./bindCallback'),
    isArray = require('../lang/isArray');

/**
 * Creates a function for `_.forEach` or `_.forEachRight`.
 *
 * @private
 * @param {Function} arrayFunc The function to iterate over an array.
 * @param {Function} eachFunc The function to iterate over a collection.
 * @returns {Function} Returns the new each function.
 */
function createForEach(arrayFunc, eachFunc) {
  return function(collection, iteratee, thisArg) {
<<<<<<< HEAD
    return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))
=======
    return (typeof iteratee == 'function' && typeof thisArg == 'undefined' && isArray(collection))
>>>>>>> f8417fafd5bf20d329bf2e3402fca16fd839cf1f
      ? arrayFunc(collection, iteratee)
      : eachFunc(collection, bindCallback(iteratee, thisArg, 3));
  };
}

module.exports = createForEach;
